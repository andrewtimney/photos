
@{
    ViewBag.Title = "Random";
}

<style>
    h4 {
        color: grey;
    }
</style>

<div>
        <h2>Random <small>June 2015</small></h2>
        <h4><span class="glyphicon glyphicon-map-marker"></span> Wada</h4>
</div>
<hr />
<div class="row">
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2018.04.45.jpg" style="width: 100%"
             class="img-rounded"/>
    </div>
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2018.04.51.jpg" style="width: 100%"
             class="img-rounded"/>
    </div>
</div>
<br/>
<div class="row">
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2020.07.30.jpg" style="width: 100%"
             class="img-rounded"/>
    </div>
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2021.26.12.jpg" style="width: 100%"
             class="img-rounded"/>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2020.31.55.jpg" style="width: 100%"
             class="img-rounded"/>
    </div>
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2022.19.45.jpg" style="width: 100%"
             class="img-rounded"/>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2022.44.58.jpg" style="width: 100%"
             class="img-rounded" />
    </div>
    <div class="col-md-6">
        <img src="https://placehold.it/555x330"
             data-src="https://dl.dropboxusercontent.com/u/39199978/albums/ufc_london/2016-02-27%2022.48.02.jpg" style="width: 100%"
             class="img-rounded" />
    </div>
</div>

@section scripts{
    <script>
        
        function isElementInViewport(el) {
            //special bonus for those using jQuery
            if (typeof jQuery === "function" && el instanceof jQuery) {
                el = el[0];
            }

            var rect = el.getBoundingClientRect();
            //console.log(rect.top, rect.left);
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        var $images = $('img');

        $(window).on('DOMContentLoaded load resize scroll', function() {
            $images.each(function(i, el) {
                if (isElementInViewport(el)) {
                    $(el).attr('src', $(el).attr('data-src'));
                }
            });
        });

    </script>
}
